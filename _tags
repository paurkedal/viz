<**/*.{ml,mli,native,byte,d.byte,top}>: use_camlp4, use_camomile, use_dynlink, use_extlib, use_menhirLib, use_sexplib

<ffoc1/*.{cmo,cmx}>: for-pack(Ffoc1)
<ffoc1/ast_to_p4.ml>: camlp4orf
<ffoc1/{ast_types,cst_types,leaf_types}.ml>: camlp4o, pa_type_conv, pa_sexp_conv

<ffoc1-tests/*.{ml,mli,native,byte,d.byte}>: use_oUnit


# For now, process all Fform code with the Camlp4 preprocessor.
<**/*.ff>: ffoc1pp

# This is covered by the <**/*.ff> rule, but we may want to remove that rule
# later.
<fflib/*.{cmi,cmo,cmx,depends}>: ffoc1pp

<fflib/**/*>: no_pervasive, in_fflib
<fflib/pervasive.ff>: ocamlstdlib
<fflib/compat/ocaml_*.ff>: ocamlstdlib

<fflib/compat/*.cmx>: for-pack(Compat)
<fflib/data/*.cmx>: for-pack(Data)
<fflib/system/*.cmx>: for-pack(System)

<fflib.{cma,cmxa}>: use_libfflib
<fftests/*.{byte,native}>: use_fflib
